## <center>性能测试流程</center>

### 流程

    1. 性能测试需求分析
    2. 性能测试计划
    3. 性能测试用例
    4. 测试脚本编写
    5. 测试场景设计
    6. 测试场景运行
    7. 场景运行监控
    8. 运行结果分析
    9. 系统性能调优
    10. 性能测试报告总结

#### 1 性能测试需求分析

需求分析就是把真正需求搞清楚

    例如：
        1). 公司需要对所有的功能都进行性能测试；
        2). 用户登录响应时间小于3秒钟；
        3). 系统支持20万用户并发访问；

#### 2 性能测试计划

    1). 性能测试计划是对性能测试过程描述的重要过程；
    2). 在对需求文档经过认真分析后，作为性能测试管理人员，需要编写的第一份文档就是性能测试计划；
    3). 性能测试计划中，需要阐述产品、项目的背景，将前期的需要测试性能需求明确，并落实到文档中。

#### 3 性能测试用例


性能测试需求最终要体现在性能测试用例设计中，性能测试用例应结合用户应用系统的场景，设计出相应的性能测试用例，用例应能覆盖到测试需求。

    提示：
        1). 明确哪些功能业务量较大；
        2). 明确系统预期的用户规模、并发用户数、在线用户数；
        3). 明确系统业务的处理能力要求，如：TPS、响应时间、系统资源利用率等；
        TPS ：(Transaction per second)事务数/秒
        4). 详细的操作步骤及场景的搭建模式

#### 4 测试脚本编写

性能测试用例编写完成以后，接下来就需要结合用例的需要，进行测试脚本的编写工作。

    注意：
        1). 协议的正确选用；
        2). 脚本保证其正确性，去除冗余代码；
        3). 注重编码的规范和代码的编写质量。

#### 5 测试场景设计

测试场景设计的一个重要原则就是依据测试用例，把测试用例设计的场景展现出来。

    提示：
        1). 虚拟用户数量及启动虚拟用户方式
        2). 场景的相关设置（如：集合点)
        3). 脚本是否存在依赖关系（登录与注册)

#### 6 测试场景运行

测试场景运行是关系到测试结果是否准确的一个重要过程。

    注意：
        1). 负载的测试机是否能够运行设定的虚拟用户数；
        2). 有没有“预热”的过程；
        3). 有没有模拟用户的真实环境；
        4). 性能用例运行次数是否过少。

#### 7 场景运行监控

场景运行监控，可以在场景运行时决定要监控那些数据，便于后期分析性能测试结果。

1). 应用性能测试工具的重要目的就是可以提取到本次测试关心的数据指标内容；<br>
2). 性能测试工具利用应用服务器取得在负载过程中相关计数器的性能指标。<br>
    (计数器：计算、统计性能指标的工具)

    注意：尽量搜集与系统测试目标相关信息，无关内容不必进行监控。

#### 8 运行结果分析

性能测试执行过程中，性能测试工具搜集相关性能测试数据，待执行完成后，这些数据会存储到数据表或者
其他文件中，为了定位系统性能问题，我们需要系统分析这些性能测试结果。

    提示：
        1). 一般使用“拐点分析”方法，利用性能计数器曲线图上的拐点进行分析的方法。
        （基本思想就是性能产生瓶颈的主要原因就是因为某个资源的使用达到了极限，此时表现为随着压力的增大，
        系统性能却出现急剧下降，就产生了“拐点”现象。）

#### 9 系统性能调优

性能测试分析人员经过对结果的分析以后，有可能提出系统存在性能瓶颈。

    提示：
        1). 调优人员(开发人员、数据库管理员、系统管理员、网络管理员、性能测试分析人员)相关人员对系统进行调整；
        2). 验证-性能测试人员继续进行第二轮、第三轮...的测试，与以前的测试结果进行对比，从而确定经过调整以后的
        系统性能是否有提升。

注意事项：

    系统调优由易到难的先后顺序如下：
        1. 硬件问题；
        2. 网络问题；
        3. 应用服务器、数据库等配置问题；
        4. 源代码、数据库脚本问题；
        5. 系统架构问题。

#### 10 性能测试报告总结

性能测试总结要包含以下内容：

    1). 性能测试需求覆盖情况，性能测试过程中出现的问题，如何去分析、调优、解决的；
    2). 测试人员、进度控制与实际执行偏差和性能测试过程中遇到各类风险是如何控制的；
    3). 经过该项目性能测试后，有那些经验和教训等内容。